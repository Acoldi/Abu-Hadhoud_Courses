### 45   Convert Record to Line
```cpp
using namespace std;

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
};

stClientData ReadClientData()
{
	stClientData Data;

	cout << "       Client Data\n\n";
	cout << "Account Number: ";
	Data.accountNumber = ReadString();
	cout << "Pin Code: ";
	Data.pinCode = ReadString();
	cout << "Name: ";
	Data.name = ReadString();
	cout << "Phone Number: ";
	Data.phoneNumber = ReadString();
	cout << "Account Balance: ";
	Data.accountBalance = ReadString();

	return Data;
}

vector<string> SplitClientData(stClientData Data)
{
	vector<string> veClientData;
	veClientData.push_back(Data.accountNumber);
	veClientData.push_back(Data.pinCode);
	veClientData.push_back(Data.name);
	veClientData.push_back(Data.phoneNumber);
	veClientData.push_back(Data.accountBalance);

	return veClientData;
}



int main(void)
{
	stClientData stClientData = ReadClientData();

	vector<string> vClientData = SplitClientData(stClientData);

	cout << "Client Record For saving is: \n  ";
	cout << JoinSting(vClientData, "#//#");

	system("Pause>0");
}
```

###  Had sol (a much better sol)
```cpp
struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
};

stClientData ReadClientData()
{
	stClientData Data;

	cout << "       Client Data\n\n";
	cout << "Account Number: ";
	Data.accountNumber = ReadString();
	cout << "Pin Code: ";
	Data.pinCode = ReadString();
	cout << "Name: ";
	Data.name = ReadString();
	cout << "Phone Number: ";
	Data.phoneNumber = ReadString();
	cout << "Account Balance: ";
	Data.accountBalance = ReadString();

	return Data;
}

string ConvertRecordToLine(stClientData Data, string Deli)
{
	string veClientData;
	veClientData += Data.accountNumber + Deli; 
	veClientData += Data.pinCode + Deli; 
	veClientData += Data.name + Deli; 
	veClientData += Data.phoneNumber + Deli; 
	veClientData += Data.accountBalance; 

	return veClientData;
}



int main(void)
{
	stClientData stClientData = ReadClientData();

	cout << "Client Record For saving is: \n  ";
	cout << ConvertRecordToLine(stClientData, "#//#");

	system("Pause>0");
}
```

## 46   Convert Line to Record
```cpp
using namespace std;

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
};

stClientData ConverClientRecordToData(string DataRecord, string Deli)
{
	stClientData sClientData;
	int pos = 0;

	pos = DataRecord.find(Deli);
	sClientData.accountNumber += DataRecord.substr(0, pos);
	DataRecord = DataRecord.erase(0, pos + Deli.length());

	pos = DataRecord.find(Deli);
	sClientData.pinCode += DataRecord.substr(0, pos);
	DataRecord = DataRecord.erase(0, pos + Deli.length());
	
	pos = DataRecord.find(Deli);
	sClientData.name += DataRecord.substr(0, pos);
	DataRecord = DataRecord.erase(0, pos + Deli.length());
	
	pos = DataRecord.find(Deli);
	sClientData.phoneNumber += DataRecord.substr(0, pos);
	DataRecord = DataRecord.erase(0, pos + Deli.length());
	
	pos = DataRecord.find(Deli);
	sClientData.accountBalance += DataRecord.substr(0, pos);
	DataRecord = DataRecord.erase(0, pos + Deli.length());

	return sClientData;
}

void PrintClientData(stClientData Data)
{
	cout << "       Client Data\n\n";
	cout << "Account Number: " << Data.accountNumber << endl;
	cout << "Pin Code: " << Data.pinCode << endl;
	cout << "Name: " << Data.name << endl;
	cout << "Phone Number: " << Data.phoneNumber << endl;
	cout << "Account Balance: " << Data.accountBalance << endl;
}

int main(void)
{
	string ClientRecord = "2222#//#1234#//#Alllawey#//#07826055128#//#77";
	stClientData ClientData;

	cout << "Client Data Record : " << ClientRecord << endl;
	
	ClientData = ConverClientRecordToData(ClientRecord, "#//#");

	PrintClientData(ClientData);

	system("Pause>0");
}
```

###  His Sol
```cpp
using namespace std;

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
};

stClientData ConverClientRecordToData(string DataRecord, string Deli)
{
	vector<string> vClient;
	stClientData sClientData;

	vClient = Split(DataRecord, Deli);
	
	sClientData.accountNumber = vClient[0];
	sClientData.pinCode = vClient[1];
	sClientData.name = vClient[2];
	sClientData.phoneNumber = vClient[3];
	sClientData.accountBalance = vClient[4];

	return sClientData;
}

void PrintClientData(stClientData Data)
{
	cout << "       Client Data\n\n";
	cout << "Account Number: " << Data.accountNumber << endl;
	cout << "Pin Code: " << Data.pinCode << endl;
	cout << "Name: " << Data.name << endl;
	cout << "Phone Number: " << Data.phoneNumber << endl;
	cout << "Account Balance: " << Data.accountBalance << endl;
}

int main(void)
{
	string ClientRecord = "2222#//#1234#//#Alllawey#//#07826055128#//#77";
	stClientData ClientData;

	cout << "Client Data Record : " << ClientRecord << endl;
	
	ClientData = ConverClientRecordToData(ClientRecord, "#//#");

	PrintClientData(ClientData);

	system("Pause>0");
}
```

## 47   Add Clients to file
```cpp
using namespace std;

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
};

stClientData ReadClientData()
{
	stClientData Data;

	cout << "       Client Data\n\n";
	cout << "Account Number: ";
	Data.accountNumber = ReadString();
	cout << "Pin Code: ";
	Data.pinCode = ReadString();
	cout << "Name: ";
	Data.name = ReadString();
	cout << "Phone Number: ";
	Data.phoneNumber = ReadString();
	cout << "Account Balance: ";
	Data.accountBalance = ReadString();

	return Data;
}

string ConvertRecordToLine(stClientData Data, string Deli)
{
	string ClientData;
	ClientData += Data.accountNumber + Deli;
	ClientData += Data.pinCode + Deli;
	ClientData += Data.name + Deli;
	ClientData += Data.phoneNumber + Deli;
	ClientData += Data.accountBalance;

	return ClientData;
}

stClientData ConvertClientRecordToData(string DataRecord, string Deli)
{
	vector<string> vClient;
	stClientData sClientData;

	vClient = Split(DataRecord, Deli);
	
	sClientData.accountNumber = vClient[0];
	sClientData.pinCode = vClient[1];
	sClientData.name = vClient[2];
	sClientData.phoneNumber = vClient[3];
	sClientData.accountBalance = vClient[4];

	return sClientData;
}

bool AddClientTofile(string FileName, stClientData Client)
{
	fstream Myfile;
	Myfile.open(FileName, ios::out | ios::app);

	if (Myfile.is_open())
	{
		Myfile << ConvertRecordToLine(Client, "#//#") << "\n";

		Myfile.close();
		return true;
	}
	return false;
}


void PrintClientData(stClientData Data)
{
	cout << "       Client Data\n\n";
	cout << "Account Number: " << Data.accountNumber << endl;
	cout << "Pin Code: " << Data.pinCode << endl;
	cout << "Name: " << Data.name << endl;
	cout << "Phone Number: " << Data.phoneNumber << endl;
	cout << "Account Balance: " << Data.accountBalance << endl;
}

int main(void)
{

	char AddMore = 'y';
	do
	{
		stClientData ClientData = ReadClientData();
		AddClientTofile("Clients.txt", ClientData);
		cout << "Client Added successfully!\n";

		cout << "\n\n Do you want to add another client? y/n \n - "; cin >> AddMore;
	} while (AddMore == 'y' || AddMore == 'Y');



	system("Pause>0");
}


}
```
### Had's Sol
```cpp
using namespace std;

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
};

stClientData ReadNewClient()
{
	stClientData Data;

	cout << "       Client Data\n\n";
	cout << "Account Number: ";
	getline(cin >> ws, Data.accountNumber);
	cout << "Pin Code: ";
	Data.pinCode = ReadString();
	cout << "Name: ";
	Data.name = ReadString();
	cout << "Phone Number: ";
	Data.phoneNumber = ReadString();
	cout << "Account Balance: ";
	Data.accountBalance = ReadString();

	return Data;
}

string ConvertRecordToLine(stClientData Data, string Deli)
{
	string ClientData;
	ClientData += Data.accountNumber + Deli;
	ClientData += Data.pinCode + Deli;
	ClientData += Data.name + Deli;
	ClientData += Data.phoneNumber + Deli;
	ClientData += Data.accountBalance;

	return ClientData;
}

stClientData ConvertClientRecordToData(string DataRecord, string Deli)
{
	vector<string> vClient;
	stClientData sClientData;

	vClient = Split(DataRecord, Deli);
	
	sClientData.accountNumber = vClient[0];
	sClientData.pinCode = vClient[1];
	sClientData.name = vClient[2];
	sClientData.phoneNumber = vClient[3];
	sClientData.accountBalance = vClient[4];

	return sClientData;
}

void AddDataLineToFile(string FileName, string Line)
{
	fstream Myfile;
	Myfile.open("Clients.txt", ios::out | ios::app);

	if (Myfile.is_open())
	{
		Myfile << Line << endl;

		Myfile.close();
	}
}

void AddNewClient(string FileName)
{
	stClientData Client;
	Client = ReadNewClient();

	AddDataLineToFile("Clients.txt", ConvertRecordToLine(Client, "#//#"));
}


void PrintClientData(stClientData Data)
{
	cout << "       Client Data\n\n";
	cout << "Account Number: " << Data.accountNumber << endl;
	cout << "Pin Code: " << Data.pinCode << endl;
	cout << "Name: " << Data.name << endl;
	cout << "Phone Number: " << Data.phoneNumber << endl;
	cout << "Account Balance: " << Data.accountBalance << endl;
}

void AddClients(void)
{
	char AddMore = 'y';
	do
	{
		system("cls");
		cout << "Adding new client\n\n";

		AddNewClient("Clients.txt");
		cout << "Client Added successfully!\n";

		cout << "\nDo you want to add another client? y/n \n - "; cin >> AddMore;
	} while (tolower(AddMore) == 'y');
}

int main(void)
{

	AddClients();

	system("Pause>0");
}
```

## 48  Read Clients From File
```c++
using namespace std;

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
};

stClientData ConvertClientRecordToData(string DataRecord, string Deli)
{
	vector<string> vClient;
	stClientData sClientData;

	vClient = Split(DataRecord, Deli);

	sClientData.accountNumber = vClient[0];
	sClientData.pinCode = vClient[1];
	sClientData.name = vClient[2];
	sClientData.phoneNumber = vClient[3];
	sClientData.accountBalance = vClient[4];

	return sClientData;
}

void PrintHorizentalLine(int Length)
{
	for (int i = 0; i < Length; i++)
	{
		cout << "_";
	}
}


void PrintClientsTable(string Clients)
{
	vector<string> veCLientsLines = Split(Clients, "\n");
	cout << "Client List (" << veCLientsLines.size() << ") Clients" << endl << endl;

	PrintHorizentalLine(120); cout << endl;
	cout  << '|' << setw(20) << "AccountNumber    " << '|'
		  << setw(20) << "Pin Code   " << '|'
		 << setw(25) << "Name      " << '|'
		 << setw(20) << "Phone Number   " << '|'
		 << setw(20) << "Account Balance   " << '|';
	cout << endl;  PrintHorizentalLine(120);



	for (int i = 0; i < veCLientsLines.size(); i++)
	{
		stClientData Client = ConvertClientRecordToData(veCLientsLines[i], "#//#");

		cout << endl << '|' << setw(20) << Client.accountNumber << '|'
			<< setw(20) << Client.pinCode << '|'
			<< setw(25) << Client.name << '|'
			<< setw(20) << Client.phoneNumber << '|'
			<< setw(20) << Client.accountBalance << '|';
		cout << endl;  PrintHorizentalLine(120);
	}
	
	

}

string ReadClientsDataFromFile(string FileName)
{
	string Buffer;
	string ClientsRecord;

	fstream MyFile;
	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		while (getline(MyFile >> ws, Buffer))
		{
			ClientsRecord += Buffer += "\n";
		}

		MyFile.close();
	}

	return ClientsRecord;
}

int main(void)
{
	string ClientsRecord = ReadClientsDataFromFile("Clients.txt");


	PrintClientsTable(ClientsRecord);
	
	system("Pause>0");
}

```

### Had Sol
```cpp
using namespace std;

const string FileName = "Clients.txt";

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
};

stClientData ConvertClientRecordToData(string DataRecord, string Deli)
{
	vector<string> vClient;
	stClientData sClientData;

	vClient = Split(DataRecord, Deli);

	sClientData.accountNumber = vClient[0];
	sClientData.pinCode = vClient[1];
	sClientData.name = vClient[2];
	sClientData.phoneNumber = vClient[3];
	sClientData.accountBalance = vClient[4];

	return sClientData;
}

void PrintHorizentalLine(int Length)
{
	for (int i = 0; i < Length; i++)
	{
		cout << "_";
	}
}

void PrintClient(vector<stClientData> Clients)
{
	for (stClientData &Client : Clients)
	{
		cout << endl << "| " << left << setw(20) << Client.accountNumber
			<< "| " << left << setw(20) << Client.pinCode
			<< "| " << left << setw(25) << Client.name 
			<< "| " << left << setw(20) << Client.phoneNumber
			<< "| " << left << setw(20) << Client.accountBalance;
		cout << endl;  PrintHorizentalLine(120);
	}
}

void PrintClientsTable(vector<stClientData> vClients)
{
	cout << "Client List (" << vClients.size() << ") Clients" << endl << endl;

	PrintHorizentalLine(120); cout << endl;
    cout<< "| " << left << setw(20) << "AccountNumber"
		<< "| " << left << setw(20) << "Pin Code"
		<< "| " << left << setw(25) << "Name"
		<< "| " << left << setw(20) << "Phone Number"
		<< "| " << left << setw(20) << "Account Balance";
	cout << endl;  PrintHorizentalLine(120);

	PrintClient(vClients);
}

vector<stClientData> LoadClientsFromFile(string FileName)
{
	vector<stClientData> vClientsRecord;
	string ClientLine;
	stClientData Client;

	fstream MyFile;
	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		while (getline(MyFile, ClientLine))
		{
			Client = ConvertClientRecordToData(ClientLine, "#//#");
			vClientsRecord.push_back(Client);
		}

		MyFile.close();
	}

	return vClientsRecord;
}

int main(void)
{
	vector<stClientData> vClients = LoadClientsFromFile(FileName);

	PrintClientsTable(vClients);
	
	system("Pause>0");
}


```

## 49   Find Client By Account Number
```cpp
using namespace std;

const string FileName = "Clients.txt";

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
};

stClientData ConvertClientRecordToData(string DataRecord, string Deli)
{
	vector<string> vClient;
	stClientData sClientData;

	vClient = Split(DataRecord, Deli);

	sClientData.accountNumber = vClient[0];
	sClientData.pinCode = vClient[1];
	sClientData.name = vClient[2];
	sClientData.phoneNumber = vClient[3];
	sClientData.accountBalance = vClient[4];

	return sClientData;
}

void PrintClientData(stClientData Data)
{
	cout << "       Client Data\n\n";
	cout << "Account Number: " << Data.accountNumber << endl;
	cout << "Pin Code: " << Data.pinCode << endl;
	cout << "Name: " << Data.name << endl;
	cout << "Phone Number: " << Data.phoneNumber << endl;
	cout << "Account Balance: " << Data.accountBalance << endl;
}

vector<stClientData> LoadClientsFromFile(string FileName)
{
	vector<stClientData> vClientsRecord;
	string ClientLine;
	stClientData Client;

	fstream MyFile;
	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		while (getline(MyFile, ClientLine))
		{
			Client = ConvertClientRecordToData(ClientLine, "#//#");
			vClientsRecord.push_back(Client);
		}

		MyFile.close();
	}

	return vClientsRecord;
}

bool IsClientFound(vector<stClientData> vCLients, string CLientNumber)
{
	for (stClientData Client : vCLients)
	{
		if (Client.accountNumber == CLientNumber)
		{
			return true;
		}
	}
	return false;
}

stClientData FindClient(vector<stClientData> vCLients, string CLientNumber)
{
	for (stClientData Client : vCLients)
	{
		if (Client.accountNumber == CLientNumber)
		{
			return Client;
		}
	}
	return vCLients[0];
}

int main(void)
{
	vector<stClientData> vClients = LoadClientsFromFile(FileName);
	cout << "Enter Client Number: ";
	string ClientNumber = ReadString();

	if (IsClientFound(vClients, ClientNumber))
	{
		stClientData Client = FindClient(vClients, ClientNumber);

		PrintClientData(Client);
	}
	else
		cout << "Client Is Not Found\n";


	
	system("Pause>0");
}
```

### Had SOl
```cpp
using namespace std;

const string FileName = "Clients.txt";

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
};

stClientData ConvertClientRecordToData(string DataRecord, string Deli)
{
	vector<string> vClient;
	stClientData sClientData;

	vClient = Split(DataRecord, Deli);

	sClientData.accountNumber = vClient[0];
	sClientData.pinCode = vClient[1];
	sClientData.name = vClient[2];
	sClientData.phoneNumber = vClient[3];
	sClientData.accountBalance = vClient[4];

	return sClientData;
}

vector<stClientData> LoadClientsFromFile(string FileName)
{
	vector<stClientData> vClientsRecord;
	string ClientLine;
	stClientData Client;

	fstream MyFile;
	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		while (getline(MyFile, ClientLine))
		{
			Client = ConvertClientRecordToData(ClientLine, "#//#");
			vClientsRecord.push_back(Client);
		}

		MyFile.close();
	}

	return vClientsRecord;
}

void PrintClientCard(stClientData Data)
{
	cout << "       Client Data\n\n";
	cout << "Account Number: " << Data.accountNumber << endl;
	cout << "Pin Code: " << Data.pinCode << endl;
	cout << "Name: " << Data.name << endl;
	cout << "Phone Number: " << Data.phoneNumber << endl;
	cout << "Account Balance: " << Data.accountBalance << endl;
}

bool FindClientByAccountNumber(string AccNumber, stClientData &Client)
{
	vector<stClientData> vClients = LoadClientsFromFile(FileName);

	for (stClientData C : vClients)
	{
		if (C.accountNumber == AccNumber)
		{
			Client = C;
			return true;
		}
	}
	return false;
}

int main(void)
{
	stClientData Client;
	cout << "Enter Client Number: ";
	string AccountNumber = ReadString();

	if (FindClientByAccountNumber(AccountNumber, Client))
	{
		PrintClientCard(Client);
	}
	else
		cout << "Client wit " << AccountNumber << " Is Not Found\n";
	
	system("Pause>0");
}
```

## 50  Delete Client
```cpp
using namespace std;

const string FileName = "Clients.txt";

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
};

stClientData ConvertClientRecordToData(string DataRecord, string Deli)
{
	vector<string> vClient;
	stClientData sClientData;

	vClient = Split(DataRecord, Deli);

	sClientData.accountNumber = vClient[0];
	sClientData.pinCode = vClient[1];
	sClientData.name = vClient[2];
	sClientData.phoneNumber = vClient[3];
	sClientData.accountBalance = vClient[4];

	return sClientData;
}

vector<stClientData> LoadClientsFromFileDeletingOne(string FileName, string AccNumber)
{
	vector<stClientData> vClientsRecord;
	string ClientLine;
	stClientData Client;

	fstream MyFile;
	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		while (getline(MyFile, ClientLine))
		{
			
			Client = ConvertClientRecordToData(ClientLine, "#//#");
			if (Client.accountNumber != AccNumber)
				vClientsRecord.push_back(Client);
				
		}

		MyFile.close();
	}

	return vClientsRecord;
}

void PrintClientCard(stClientData Data)
{
	cout << "       Client Data\n\n";
	cout << "Account Number: " << Data.accountNumber << endl;
	cout << "Pin Code: " << Data.pinCode << endl;
	cout << "Name: " << Data.name << endl;
	cout << "Phone Number: " << Data.phoneNumber << endl;
	cout << "Account Balance: " << Data.accountBalance << endl;
}

void LoadFileContentToVector(string FileName, vector <string>& Vector)
{
	fstream MyFile;

	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		string Line;

		while (getline(MyFile, Line))
		{
			Vector.push_back(Line);
		}

		MyFile.close();
	}
}

void SaveVectorToFile(vector <string> VfileContent, string FileName)
{
	fstream MyFile;

	MyFile.open(FileName, ios::out);

	if (MyFile.is_open())
	{
		for (string Line : VfileContent)
		{
			if (Line != "") // or "\\n"
			{
				MyFile << Line << endl;
			}
		}

		MyFile.close();
	}
}

string ConvertRecordToLine(stClientData Data, string Deli)
{
	string veClientData;
	veClientData += Data.accountNumber + Deli;
	veClientData += Data.pinCode + Deli;
	veClientData += Data.name + Deli;
	veClientData += Data.phoneNumber + Deli;
	veClientData += Data.accountBalance;

	return veClientData;
}

void DeleteRecordFromFIle(string FileName, string Record)
{
	fstream MyFile;

	vector <string> vFile;

	LoadFileContentToVector(FileName, vFile);

	for (string& Line : vFile)
	{
		if (Line == Record)
		{
			Line = "";
		}
	}
	SaveVectorToFile(vFile, FileName);
}


int main(void)
{
	stClientData Client;
	cout << "Enter Client Number You Want to Delete: ";
	string AccountNumber = ReadString();

	vector<stClientData> vClients = LoadClientsFromFileDeletingOne(FileName, AccountNumber);
	vector<string> VClients;
	
	for (stClientData& C : vClients)
	{
		VClients.push_back(ConvertRecordToLine(C, "#//#"));
	}

	SaveVectorToFile(VClients, FileName);



	system("Pause>0");
}
```

### Had sol

```cpp
using namespace std;

const string FileName = "Clients.txt";

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
	bool MarkedForDelete = false;
};

stClientData ConvertClientRecordToData(string DataRecord, string Deli)
{
	vector<string> vClient;
	stClientData sClientData;

	vClient = Split(DataRecord, Deli);

	sClientData.accountNumber = vClient[0];
	sClientData.pinCode = vClient[1];
	sClientData.name = vClient[2];
	sClientData.phoneNumber = vClient[3];
	sClientData.accountBalance = vClient[4];

	return sClientData;
}

void PrintClientCard(stClientData Data)
{
	cout << "\nAccount Number: " << Data.accountNumber << endl;
	cout << "Pin Code: " << Data.pinCode << endl;
	cout << "Name: " << Data.name << endl;
	cout << "Phone Number: " << Data.phoneNumber << endl;
	cout << "Account Balance: " << Data.accountBalance << endl;
}

void LoadFileContentToVector(string FileName, vector <string>& Vector)
{
	fstream MyFile;

	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		string Line;

		while (getline(MyFile, Line))
		{
			Vector.push_back(Line);
		}

		MyFile.close();
	}
}

void SaveVectorToFile(vector <string> VfileContent, string FileName)
{
	fstream MyFile;

	MyFile.open(FileName, ios::out);

	if (MyFile.is_open())
	{
		for (string Line : VfileContent)
		{
			if (Line != "") // or "\\n"
			{
				MyFile << Line << endl;
			}
		}

		MyFile.close();
	}
}

string ConvertRecordToLine(stClientData Data, string Deli)
{
	string veClientData;
	veClientData += Data.accountNumber + Deli;
	veClientData += Data.pinCode + Deli;
	veClientData += Data.name + Deli;
	veClientData += Data.phoneNumber + Deli;
	veClientData += Data.accountBalance;

	return veClientData;
}

void DeleteRecordFromFIle(string FileName, string Record)
{
	fstream MyFile;

	vector <string> vFile;

	LoadFileContentToVector(FileName, vFile);

	for (string& Line : vFile)
	{
		if (Line == Record)
		{
			Line = "";
		}
	}
	SaveVectorToFile(vFile, FileName);
}

vector<stClientData> LoadClientsFromFile(string FileName)
{
	vector<stClientData> vClientsRecord;
	string ClientLine;
	stClientData Client;

	fstream MyFile;
	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		while (getline(MyFile, ClientLine))
		{
			Client = ConvertClientRecordToData(ClientLine, "#//#");
			vClientsRecord.push_back(Client);
		}

		MyFile.close();
	}

	return vClientsRecord;
}

bool FindClientByAccountNumber(vector<stClientData> vClients, string AccNumber, stClientData& Client)
{
	for (stClientData C : vClients)
	{
		if (C.accountNumber == AccNumber)
		{
			Client = C;
			return true;
		}
	}
	return false;
}

void MarkClientAsDeleted(vector<stClientData> &vClients, string AccNumber)
{
	for (stClientData &C : vClients)
	{
		if (C.accountNumber == AccNumber)
		{
			C.MarkedForDelete = true;
		}
	}
}

void SaveClientsDataToFile(vector<stClientData> &vClients)
{
	fstream MyFile;
	MyFile.open(FileName, ios::out);
	
	if (MyFile.is_open())
	{
		for (stClientData C : vClients)
		{
			if (C.MarkedForDelete == false)
			{
				MyFile << ConvertRecordToLine(C, "#//#") << '\n';
			}
		}

		MyFile.close();
	}
}

void DeleteClientFromFile(string AccountNumber, vector<stClientData>& vClients)
{
	stClientData Client;
	if (FindClientByAccountNumber(vClients, AccountNumber, Client))
	{
		PrintClientCard(Client);

		char Confirm = 'n';
		cout << "Are you sure you want to delete this account number? (Y/N)\nAccount Detalis: \n";

		cin >> Confirm;


		if (Confirm == tolower(Confirm));
		{
			MarkClientAsDeleted(vClients, AccountNumber);

			SaveClientsDataToFile(vClients);

			cout << "Client Deleted Successfully!";
		}
	}
	else
		cout << "Account With " << AccountNumber << " Is not found";
}

int main(void)
{
	cout << "Enter Client Number You Want to Delete: ";
	string AccountNumber = ReadString();

	vector<stClientData> vClients = LoadClientsFromFile(FileName);
	
	DeleteClientFromFile(AccountNumber, vClients);

	// Refres vector
	vClients = LoadClientsFromFile(FileName);
	 

	system("Pause>0");
}


}
```

## 51  Update Client By Account Number
```cpp
#include "Basics.h"
#include <iostream>
#include <iomanip>
#include <vector>
#include <fstream>

const string FileName = "Clients.txt";

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
	bool MarkedForDelete = false;
};

stClientData ConvertClientRecordToData(string DataRecord, string Deli)
{
	vector<string> vClient;
	stClientData sClientData;

	vClient = Split(DataRecord, Deli);

	sClientData.accountNumber = vClient[0];
	sClientData.pinCode = vClient[1];
	sClientData.name = vClient[2];
	sClientData.phoneNumber = vClient[3];
	sClientData.accountBalance = vClient[4];

	return sClientData;
}

void PrintClientCard(stClientData Data)
{
	cout << "\nAccount Number: " << Data.accountNumber << endl;
	cout << "Pin Code: " << Data.pinCode << endl;
	cout << "Name: " << Data.name << endl;
	cout << "Phone Number: " << Data.phoneNumber << endl;
	cout << "Account Balance: " << Data.accountBalance << endl;
}

void LoadFileContentToVector(string FileName, vector <string>& Vector)
{
	fstream MyFile;

	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		string Line;

		while (getline(MyFile, Line))
		{
			Vector.push_back(Line);
		}

		MyFile.close();
	}
}

void SaveVectorToFile(vector <string> VfileContent, string FileName)
{
	fstream MyFile;

	MyFile.open(FileName, ios::out);

	if (MyFile.is_open())
	{
		for (string Line : VfileContent)
		{
			if (Line != "") // or "\\n"
			{
				MyFile << Line << endl;
			}
		}

		MyFile.close();
	}
}

string ConvertRecordToLine(stClientData Data, string Deli)
{
	string veClientData;
	veClientData += Data.accountNumber + Deli;
	veClientData += Data.pinCode + Deli;
	veClientData += Data.name + Deli;
	veClientData += Data.phoneNumber + Deli;
	veClientData += Data.accountBalance;

	return veClientData;
}

void DeleteRecordFromFIle(string FileName, string Record)
{
	fstream MyFile;

	vector <string> vFile;

	LoadFileContentToVector(FileName, vFile);

	for (string& Line : vFile)
	{
		if (Line == Record)
		{
			Line = "";
		}
	}
	SaveVectorToFile(vFile, FileName);
}

vector<stClientData> LoadClientsFromFile(string FileName)
{
	vector<stClientData> vClientsRecord;
	string ClientLine;
	stClientData Client;

	fstream MyFile;
	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		while (getline(MyFile, ClientLine))
		{
			Client = ConvertClientRecordToData(ClientLine, "#//#");
			vClientsRecord.push_back(Client);
		}

		MyFile.close();
	}

	return vClientsRecord;
}

bool FindClientByAccountNumber(vector<stClientData> vClients, string AccNumber, stClientData& Client)
{
	for (stClientData C : vClients)
	{
		if (C.accountNumber == AccNumber)
		{
			Client = C;
			return true;
		}
	}
	return false;
}

void SaveClientsDataToFile(vector<stClientData>& vClients, stClientData UpdatedClient)
{
	fstream MyFile;
	MyFile.open(FileName, ios::out);

	if (MyFile.is_open())
	{
		for (stClientData &C : vClients)
		{
			if (C.MarkedForDelete == false && C.accountNumber != UpdatedClient.accountNumber)
			{
				MyFile << ConvertRecordToLine(C, "#//#") << '\n';
			}
			
			if (C.accountNumber == UpdatedClient.accountNumber)
			{
				MyFile << ConvertRecordToLine(UpdatedClient, "#//#");
			}
		}

		MyFile.close();
	}
}

void EditClientData(stClientData &Data)
{
	cout << "Pin Code: ";
	getline(cin >> ws, Data.pinCode);
	cout << "Name: ";
	Data.name = ReadString();
	cout << "Phone Number: ";
	Data.phoneNumber = ReadString();
	cout << "Account Balance: ";
	Data.accountBalance = ReadString();
	return;
}

void UpdateClient(string AccountNumber, vector<stClientData>& vClients)
{
	stClientData Client;
	if (FindClientByAccountNumber(vClients, AccountNumber, Client))
	{
		PrintClientCard(Client);

		char Confirm = 'n';
		cout << "Are you sure you want to update this account? (Y/N)\n";

		cin >> Confirm;


		if (Confirm == tolower(Confirm));
		{
			EditClientData(Client);

			SaveClientsDataToFile(vClients, Client);

			cout << "Client Updated Successfully!";
		}
	}
	else
		cout << "Account With " << AccountNumber << " Is not found";
}

int main(void)
{
	cout << "Enter Client Number You Want to Update: ";
	string AccountNumber = ReadString();

	vector<stClientData> vClients = LoadClientsFromFile(FileName);

	UpdateClient(AccountNumber, vClients);

	// Refres vector
	vClients = LoadClientsFromFile(FileName);


	system("Pause>0");
}
```

### Had sol
```cpp
const string FileName = "Clients.txt";

struct stClientData
{
	string accountNumber;
	string pinCode;
	string name;
	string phoneNumber;
	string accountBalance;
	bool MarkedForDelete = false;
};

stClientData ConvertClientRecordToData(string DataRecord, string Deli)
{
	vector<string> vClient;
	stClientData sClientData;

	vClient = Split(DataRecord, Deli);

	sClientData.accountNumber = vClient[0];
	sClientData.pinCode = vClient[1];
	sClientData.name = vClient[2];
	sClientData.phoneNumber = vClient[3];
	sClientData.accountBalance = vClient[4];

	return sClientData;
}

void PrintClientCard(stClientData Data)
{
	cout << "\nAccount Number: " << Data.accountNumber << endl;
	cout << "Pin Code: " << Data.pinCode << endl;
	cout << "Name: " << Data.name << endl;
	cout << "Phone Number: " << Data.phoneNumber << endl;
	cout << "Account Balance: " << Data.accountBalance << endl;
}

void LoadFileContentToVector(string FileName, vector <string>& Vector)
{
	fstream MyFile;

	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		string Line;

		while (getline(MyFile, Line))
		{
			Vector.push_back(Line);
		}

		MyFile.close();
	}
}

void SaveVectorToFile(vector <string> VfileContent, string FileName)
{
	fstream MyFile;

	MyFile.open(FileName, ios::out);

	if (MyFile.is_open())
	{
		for (string Line : VfileContent)
		{
			if (Line != "") // or "\\n"
			{
				MyFile << Line << endl;
			}
		}

		MyFile.close();
	}
}

string ConvertRecordToLine(stClientData Data, string Deli)
{
	string veClientData;
	veClientData += Data.accountNumber + Deli;
	veClientData += Data.pinCode + Deli;
	veClientData += Data.name + Deli;
	veClientData += Data.phoneNumber + Deli;
	veClientData += Data.accountBalance;

	return veClientData;
}

void DeleteRecordFromFIle(string FileName, string Record)
{
	fstream MyFile;

	vector <string> vFile;

	LoadFileContentToVector(FileName, vFile);

	for (string& Line : vFile)
	{
		if (Line == Record)
		{
			Line = "";
		}
	}
	SaveVectorToFile(vFile, FileName);
}

vector<stClientData> LoadClientsFromFile(string FileName)
{
	vector<stClientData> vClientsRecord;
	string ClientLine;
	stClientData Client;

	fstream MyFile;
	MyFile.open(FileName, ios::in);

	if (MyFile.is_open())
	{
		while (getline(MyFile, ClientLine))
		{
			Client = ConvertClientRecordToData(ClientLine, "#//#");
			vClientsRecord.push_back(Client);
		}

		MyFile.close();
	}

	return vClientsRecord;
}

bool FindClientByAccountNumber(vector<stClientData> vClients, string AccNumber, stClientData& Client)
{
	for (stClientData C : vClients)
	{
		if (C.accountNumber == AccNumber)
		{
			Client = C;
			return true;
		}
	}
	return false;
}

void SaveClientsDataToFile(vector<stClientData>& vClients)
{
	fstream MyFile;
	MyFile.open(FileName, ios::out);

	if (MyFile.is_open())
	{
		for (stClientData &C : vClients)
		{
			if (C.MarkedForDelete == false)
			{
				MyFile << ConvertRecordToLine(C, "#//#") << '\n';
			}
		}

		MyFile.close();
	}
}

stClientData ChangeClientData(string accNumber)
{
	stClientData Data;
	Data.accountNumber = accNumber;
	cout << "Pin Code: ";
	getline(cin >> ws, Data.pinCode);
	cout << "Name: ";
	Data.name = ReadString();
	cout << "Phone Number: ";
	Data.phoneNumber = ReadString();
	cout << "Account Balance: ";
	Data.accountBalance = ReadString();
	
	return Data;
}

void UpdateClientByAccountNumber(string AccountNumber, vector<stClientData>& vClients)
{
	stClientData Client;
	if (FindClientByAccountNumber(vClients, AccountNumber, Client))
	{
		PrintClientCard(Client);

		char Confirm = 'n';
		cout << "Are you sure you want to update this account? (Y/N)\n";

		cin >> Confirm;

		if (Confirm == 'y' || 'Y');
		{
			for (stClientData &C : vClients)
			{
				if (C.accountNumber == AccountNumber)
				{
					C = ChangeClientData(AccountNumber);
					break;
				}
			}

			SaveClientsDataToFile(vClients);

			cout << "Client Updated Successfully!";
		}
	}
	else
		cout << "Account With " << AccountNumber << " Is not found";
}

int main(void)
{
	cout << "Enter Client Number You Want to Update: ";
	string AccountNumber = ReadString();

	vector<stClientData> vClients = LoadClientsFromFile(FileName);

	UpdateClientByAccountNumber(AccountNumber, vClients);

	system("Pause>0");
}
```